import{_ as V,m as G,a as I,d as Z,t as K,l as Q,u as W,c as X,g as $}from"./entry.2508d2c1.js";import{u as ee,t as te,a as ae}from"./select.cc61dee9.js";import{u as re,a as se,_ as ne}from"./FormGroup.50a77e87.js";import{q as oe,d as J,t as F,a as w,_ as N,w as le,n as de,c as ie,F as y,G as _,K as s,M as ue,$ as P,H as ge,a0 as f,p as R,Z as h,a1 as me,a2 as ce,I as fe,J as pe,a3 as ve,P as M,O as z,Y as be,u as he,N as H,a4 as L}from"./swiper-vue.14f7f984.js";const T=new Map;function xe(e){const t=oe();function o(g){var m;const n=T.get(e)||new Set;n.add(g),T.set(e,n);const d=()=>l(g);return(m=t==null?void 0:t.cleanups)==null||m.push(d),d}function i(g){function m(...n){l(m),g(...n)}return o(m)}function l(g){const m=T.get(e);m&&(m.delete(g),m.size||r())}function r(){T.delete(e)}function a(g,m){var n;(n=T.get(e))==null||n.forEach(d=>d(g,m))}return{on:o,once:i,off:l,emit:a,reset:r}}const x=G(I.ui.strategy,I.ui.textarea,ae),we=J({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(x.size).includes(e)}},color:{type:String,default:()=>x.default.color,validator(e){return[...I.ui.colors,...Object.keys(x.color)].includes(e)}},variant:{type:String,default:()=>x.default.variant,validator(e){return[...Object.keys(x.variant),...Object.values(x.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur"],setup(e,{emit:t}){const{ui:o,attrs:i}=ee("textarea",F(e,"ui"),x,F(e,"class")),{emitFormBlur:l,emitFormInput:r,inputId:a,color:g,size:m,name:n}=re(e,x),d=w(Z({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),c=w(null),b=()=>{var u;e.autofocus&&((u=c.value)==null||u.focus())},v=()=>{if(e.autoresize){if(!c.value)return;c.value.rows=e.rows;const u=window.getComputedStyle(c.value),k=parseInt(u.paddingTop),B=parseInt(u.paddingBottom),U=k+B,q=parseInt(u.lineHeight),{scrollHeight:Y}=c.value,A=(Y-U)/q;A>e.rows&&(c.value.rows=A)}},S=u=>{d.value.trim&&(u=u.trim()),d.value.number&&(u=Q(u)),t("update:modelValue",u),r()},C=u=>{v(),d.value.lazy||S(u.target.value)},E=u=>{const k=u.target.value;d.value.lazy&&S(k),d.value.trim&&(u.target.value=k.trim())},O=u=>{t("blur",u),l()};N(()=>{setTimeout(()=>{b()},e.autofocusDelay)}),le(()=>e.modelValue,()=>{de(v)}),N(()=>{setTimeout(()=>{b(),v()},100)});const D=ie(()=>{var k,B;const u=((B=(k=o.value.color)==null?void 0:k[g.value])==null?void 0:B[e.variant])||o.value.variant[e.variant];return te(K(o.value.base,o.value.rounded,o.value.placeholder,o.value.size[m.value],e.padded?o.value.padding[m.value]:"p-0",u==null?void 0:u.replaceAll("{color}",g.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:o,attrs:i,name:n,inputId:a,textarea:c,textareaClass:D,onInput:C,onChange:E,onBlur:O}}}),ye=["id","value","name","rows","required","disabled","placeholder"];function ke(e,t,o,i,l,r){return y(),_("div",{class:ge(e.ui.wrapper)},[s("textarea",ue({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:["form-textarea",e.textareaClass]},e.attrs,{onInput:t[0]||(t[0]=(...a)=>e.onInput&&e.onInput(...a)),onBlur:t[1]||(t[1]=(...a)=>e.onBlur&&e.onBlur(...a)),onChange:t[2]||(t[2]=(...a)=>e.onChange&&e.onChange(...a))}),null,16,ye),P(e.$slots,"default")],2)}const _e=V(we,[["render",ke]]);class j extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,j.prototype)}}const Se=J({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:t,emit:o}){const i=xe(`form-${se()}`);i.on(async n=>{var d;n.type!=="submit"&&((d=e.validateOn)!=null&&d.includes(n.type))&&await g(n.path,{silent:!0})});const l=w([]);R("form-errors",l),R("form-events",i);const r=w({});R("form-inputs",r);async function a(){let n=await e.validate(e.state);if(e.schema)if(Te(e.schema))n=n.concat(await Be(e.state,e.schema));else if(Ce(e.schema))n=n.concat(await Me(e.state,e.schema));else if(je(e.schema))n=n.concat(await Oe(e.state,e.schema));else if(Re(e.schema))n=n.concat(await ze(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return n}async function g(n,d={silent:!1}){if(n){const c=l.value.filter(v=>v.path!==n),b=(await a()).filter(v=>v.path===n);l.value=c.concat(b)}else l.value=await a();if(!d.silent&&l.value.length>0)throw new j(`Form validation failed: ${JSON.stringify(l.value,null,2)}`);return e.state}async function m(n){var d;try{(d=e.validateOn)!=null&&d.includes("submit")&&await g();const c={...n,data:e.state};o("submit",c)}catch(c){if(!(c instanceof j))throw c;const b={...n,errors:l.value.map(v=>({...v,id:r.value[v.path]}))};o("error",b)}}return t({validate:g,errors:l,setErrors(n,d){l.value=n,d?l.value=l.value.filter(c=>c.path!==d).concat(n):l.value=n},getErrors(n){return n?l.value.filter(d=>d.path===n):l.value},clear(n){n?l.value=l.value.filter(d=>d.path===n):l.value=[]}}),{onSubmit:m}}});function Ce(e){return e.validate&&e.__isYupSchema__}function De(e){return e.inner!==void 0}async function Me(e,t){try{return await t.validate(e,{abortEarly:!1}),[]}catch(o){if(De(o))return o.inner.map(i=>({path:i.path??"",message:i.message}));throw o}}function Te(e){return e.parse!==void 0}async function Be(e,t){const o=await t.safeParseAsync(e);return o.success===!1?o.error.issues.map(i=>({path:i.path.join("."),message:i.message})):[]}function je(e){return e.validateAsync!==void 0&&e.id!==void 0}function Ee(e){return e.isJoi===!0}async function Oe(e,t){try{return await t.validateAsync(e,{abortEarly:!1}),[]}catch(o){if(Ee(o))return o.details.map(i=>({path:i.path.join("."),message:i.message}));throw o}}function Re(e){return e._parse!==void 0}async function ze(e,t){const o=await t._parse(e);return o.issues?o.issues.map(i=>({path:i.path.map(l=>l.key).join("."),message:i.message})):[]}function Ie(e,t,o,i,l,r){return y(),_("form",{onSubmit:t[0]||(t[0]=f((...a)=>e.onSubmit&&e.onSubmit(...a),["prevent"]))},[P(e.$slots,"default")],32)}const Ve=V(Se,[["render",Ie]]);const Ae={data(){return{selectedCategories:new Map}},methods:{dragStart(e){const t=e.target;e.dataTransfer.setData("text/plain",t.outerHTML),e.dataTransfer.setData("text/id",t.id)},dragOver(e){e.preventDefault()},drop(e){e.preventDefault();const t=e.dataTransfer.getData("text/plain"),o=e.dataTransfer.getData("text/id"),i={id:o,html:t};this.selectedCategories.set(o,i),console.log(this.selectedCategories)},deleteTag(e){console.log(e),this.selectedCategories.delete(e)},add(e){console.log("Double click event triggered"),console.log("Target tag:",e.target.tagName);const t=e.target,o=t.id,i={id:o,html:t.outerHTML};this.selectedCategories.set(o,i)},donothing(){}}},p=e=>(fe("data-v-b5824d03"),e=e(),pe(),e),Fe={class:"mt-4 flex flex-col space-y-4 w-1/2"},Ne={class:"flex flex-col space-y-2 border-2 border-blue-700"},He=p(()=>s("div",null,"文章分類",-1)),Le={class:"flex space-x-2"},Je=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),Pe=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),Ue=[Je,Pe],qe=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),Ye=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),Ge=[qe,Ye],Ze=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),Ke=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),Qe=[Ze,Ke],We=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),Xe=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),$e=[We,Xe],et=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),tt=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),at=[et,tt],rt=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),st=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),nt=[rt,st],ot=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),lt=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),dt=[ot,lt],it=p(()=>s("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),ut=p(()=>s("span",{class:"sr-only"},"Remove badge",-1)),gt=[it,ut],mt={class:"flex flex-col space-y-2 mt-4"},ct={class:"selected-categories"},ft=["innerHTML"];function pt(e,t,o,i,l,r){return y(),_("div",null,[s("div",Fe,[s("div",Ne,[He,s("div",Le,[s("span",{id:"1",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-blue-800 bg-blue-100 rounded dark:bg-blue-900 dark:text-blue-300",onDblclick:t[2]||(t[2]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[3]||(t[3]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Default "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-blue-400 bg-transparent rounded-sm hover:bg-blue-200 hover:text-blue-900 dark:hover:bg-blue-800 dark:hover:text-blue-300","data-dismiss-target":"#badge-dismiss-default","aria-label":"Remove",onClick:t[0]||(t[0]=a=>r.deleteTag("1")),onDblclick:t[1]||(t[1]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},Ue,32)],32),s("span",{id:"2",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-gray-800 bg-gray-100 rounded dark:bg-gray-700 dark:text-gray-300",onDblclick:t[6]||(t[6]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[7]||(t[7]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Dark "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-gray-400 bg-transparent rounded-sm hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-gray-300","data-dismiss-target":"#badge-dismiss-dark","aria-label":"Remove",onClick:t[4]||(t[4]=a=>r.deleteTag("2")),onDblclick:t[5]||(t[5]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},Ge,32)],32),s("span",{id:"3",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-red-800 bg-red-100 rounded dark:bg-red-900 dark:text-red-300",onDblclick:t[10]||(t[10]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[11]||(t[11]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Red "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-red-400 bg-transparent rounded-sm hover:bg-red-200 hover:text-red-900 dark:hover:bg-red-800 dark:hover:text-red-300","data-dismiss-target":"#badge-dismiss-red","aria-label":"Remove",onClick:t[8]||(t[8]=a=>r.deleteTag("3")),onDblclick:t[9]||(t[9]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},Qe,32)],32),s("span",{id:"4",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-green-800 bg-green-100 rounded dark:bg-green-900 dark:text-green-300",onDblclick:t[14]||(t[14]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[15]||(t[15]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Green "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-green-400 bg-transparent rounded-sm hover:bg-green-200 hover:text-green-900 dark:hover:bg-green-800 dark:hover:text-green-300","data-dismiss-target":"#badge-dismiss-green","aria-label":"Remove",onClick:t[12]||(t[12]=a=>r.deleteTag("4")),onDblclick:t[13]||(t[13]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},$e,32)],32),s("span",{id:"5",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-yellow-800 bg-yellow-100 rounded dark:bg-yellow-900 dark:text-yellow-300",onDblclick:t[18]||(t[18]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[19]||(t[19]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Yellow "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-yellow-400 bg-transparent rounded-sm hover:bg-yellow-200 hover:text-yellow-900 dark:hover:bg-yellow-800 dark:hover:text-yellow-300","data-dismiss-target":"#badge-dismiss-yellow","aria-label":"Remove",onClick:t[16]||(t[16]=a=>r.deleteTag("5")),onDblclick:t[17]||(t[17]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},at,32)],32),s("span",{id:"6",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-indigo-800 bg-indigo-100 rounded dark:bg-indigo-900 dark:text-indigo-300",onDblclick:t[22]||(t[22]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[23]||(t[23]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Indigo "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-indigo-400 bg-transparent rounded-sm hover:bg-indigo-200 hover:text-indigo-900 dark:hover:bg-indigo-800 dark:hover:text-indigo-300","data-dismiss-target":"#badge-dismiss-indigo","aria-label":"Remove",onClick:t[20]||(t[20]=a=>r.deleteTag("6")),onDblclick:t[21]||(t[21]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},nt,32)],32),s("span",{id:"7",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-purple-800 bg-purple-100 rounded dark:bg-purple-900 dark:text-purple-300",onDblclick:t[26]||(t[26]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[27]||(t[27]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Purple "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-purple-400 bg-transparent rounded-sm hover:bg-purple-200 hover:text-purple-900 dark:hover:bg-purple-800 dark:hover:text-purple-300","data-dismiss-target":"#badge-dismiss-purple","aria-label":"Remove",onClick:t[24]||(t[24]=a=>r.deleteTag("7")),onDblclick:t[25]||(t[25]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},dt,32)],32),s("span",{id:"8",draggable:"true",class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-pink-800 bg-pink-100 rounded dark:bg-pink-900 dark:text-pink-300",onDblclick:t[30]||(t[30]=f((...a)=>r.add&&r.add(...a),["stop"])),onDragstart:t[31]||(t[31]=(...a)=>r.dragStart&&r.dragStart(...a))},[h(" Pink "),s("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-pink-400 bg-transparent rounded-sm hover:bg-pink-200 hover:text-pink-900 dark:hover:bg-pink-800 dark:hover:text-pink-300","data-dismiss-target":"#badge-dismiss-pink","aria-label":"Remove",onClick:t[28]||(t[28]=a=>r.deleteTag("8")),onDblclick:t[29]||(t[29]=f((...a)=>r.donothing&&r.donothing(...a),["stop"]))},gt,32)],32)])])]),s("div",mt,[s("div",{class:"dropzone bg-gray-200 p-4 rounded cursor-pointer",onDragover:t[32]||(t[32]=(...a)=>r.dragOver&&r.dragOver(...a)),onDrop:t[33]||(t[33]=(...a)=>r.drop&&r.drop(...a))},[h(" 放置區域 "),s("div",ct,[(y(!0),_(me,null,ce(l.selectedCategories.values(),a=>(y(),_("div",{key:a.id,class:"selected-category flex space-x-2"},[s("div",{innerHTML:a.html},null,8,ft)]))),128))])],32)])])}const vt=V(Ae,[["render",pt],["__scopeId","data-v-b5824d03"]]),bt={class:"bg-white py-24 w-full mt-40"},ht={class:""},xt=s("h1",{class:"text-6xl font-semibold text-yellow-400"}," 大家好！我是 pakkkk ",-1),St={__name:"article",async setup(e){let t,o;const i=W(),l=X(i,"Article"),r=([t,o]=ve(()=>$(l)),t=await t,o(),t),a=Array.from(r.docs).map(b=>({...b.data(),id:b.id})),g=w(!1),m=w(null),n=()=>{g.value=!g.value,m.value.innerText=g.value?"Close":"Create Article"},d=w(""),c=w("");return(b,v)=>{const S=_e,C=ne,E=Ve,O=vt;return y(),_("div",bt,[s("div",ht,[xt,s("button",{ref_key:"openA",ref:m,class:"border-4 border-amber-700 border-dashed text-amber-700 hover:text-black hover:border-black font-Playpen font-bold py-2 rounded inline-flex items-center mb-4 justify-center",style:{width:"210px",height:"55px"},onClick:n}," - Create Article - ",512),M(E,{schema:b.schema,state:b.state,class:"space-y-4 border-2 border-black w-1/2",onSubmit:b.onSubmit},{default:z(()=>[M(C,{label:"文章標題"},{default:z(()=>[g.value?(y(),H(S,{key:0,modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=D=>d.value=D),rows:1,variant:"outline",class:"w-[300px] mb-4",color:"red",placeholder:"這裡輸入文章標題喔",autoresize:""},null,8,["modelValue"])):L("",!0)]),_:1}),M(C,{label:"建立文章內容"},{default:z(()=>[g.value?(y(),H(S,{key:0,modelValue:c.value,"onUpdate:modelValue":v[1]||(v[1]=D=>c.value=D),variant:"outline",class:"w-[500px]",color:"indigo",placeholder:"這裡輸入文章內容喔",autoresize:""},null,8,["modelValue"])):L("",!0)]),_:1}),M(C,{label:"文章分類清單"})]),_:1},8,["schema","state","onSubmit"]),M(O),s("div",null,[s("pre",null,be(he(a)[0]),1)])])])}}};export{St as default};
