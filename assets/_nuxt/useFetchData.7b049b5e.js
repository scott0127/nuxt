import{h as B}from"./index.c9d4dc9e.js";import{u as U}from"./asyncData.484ce334.js";import{j as q}from"./entry.743621f7.js";import{c as L,u as e,r as N,_ as g,G as w,K as n,Y as c,a4 as O,F as v}from"./swiper-vue.1c54e604.js";function k(h,s,i){var y;const[t={},u]=typeof s=="string"?[{},s]:[s,i],o=L(()=>{let l=h;return typeof l=="function"&&(l=l()),e(l)}),a=t.key||B([u,((y=e(t.method))==null?void 0:y.toUpperCase())||"GET",e(t.baseURL),typeof o.value=="string"?o.value:"",e(t.params||t.query),e(t.headers)]);if(!a||typeof a!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+a);if(!h)throw new Error("[nuxt] [useFetch] request is missing.");const p=a===u?"$f"+a:a;if(!t.baseURL&&typeof o.value=="string"&&o.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:f,default:m,transform:D,pick:C,watch:x,immediate:F,getCachedData:$,deep:E,...R}=t,_=N({...q,...R,cache:typeof t.cache=="boolean"?void 0:t.cache}),A={server:d,lazy:f,default:m,transform:D,pick:C,immediate:F,getCachedData:$,deep:E,watch:x===!1?[]:[_,o,...x||[]]};let r;return U(p,()=>{var b;return(b=r==null?void 0:r.abort)==null||b.call(r),r=typeof AbortController<"u"?new AbortController:{},(t.$fetch||globalThis.$fetch)(o.value,{signal:r.signal,..._})},A)}const T={class:"my-24 flex flex-col items-center"},V={class:"text-2xl text-gray-600"},z={key:0,class:"mt-4 text-6xl text-gray-600"},G=n("span",{class:"mt-4 text-2xl text-gray-600"},"回傳資料(本來就設+=2一次家2正常):",-1),K={class:"mt-4 text-3xl font-semibold text-blue-500"},j={class:"mt-4 text-3xl font-semibold text-red-500"},I={class:"mt-4 text-3xl font-semibold text-blue-500"},S={class:"mt-4 text-3xl font-semibold text-green-500"},W={class:"mt-4 text-3xl font-semibold text-blue-500"},P={__name:"useFetchData",async setup(h){let s,i;const{data:t,pending:u,error:o,refresh:a}=([s,i]=g(()=>k("/api/about",{pick:["name","gender","counter"]},"$npEfRRzoah")),s=await s,i(),s),{data2:p}=([s,i]=g(()=>k("https://api.disneyapi.dev/character","$VNI1B5XhvR")),s=await s,i(),s);return(d,f)=>(v(),w("div",T,[n("p",V," 請求狀態: "+c(e(u)?"請求中":"完成"),1),e(o)?(v(),w("span",z,"是否錯誤: "+c(e(o)),1)):O("",!0),G,n("p",K,c(e(t)),1),n("p",j," 姓名:"+c(e(t).name),1),n("p",I," 性別:"+c(e(t).gender),1),n("p",S," 幾次:"+c(e(t).counter),1),n("button",{class:"mt-6 rounded-sm bg-blue-500 py-3 px-8 text-xl font-medium text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",onClick:f[0]||(f[0]=(...m)=>e(a)&&e(a)(...m))}," 重新獲取資料 "),n("p",W," 性別:"+c(e(p)),1)]))}};export{P as default};
